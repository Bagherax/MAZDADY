package mazdady.admin;

/**
 * محرر السمات مع دعم التخصيص الديناميكي
 */
public final class ThemeEditor {
    private static final ThemeEditor INSTANCE = new ThemeEditor();

    private ThemeEditor() {}

    public static ThemeEditor getInstance() {
        return INSTANCE;
    }

    public void setThemeColor(String element, String color) {
        if (!isValidColor(color)) {
            throw new IllegalArgumentException("Invalid color format");
        }
        System.out.println("THEME COLOR: " + element + " set to " + color);
        ConfigPusher.getInstance().pushUIConfig(element, "color", color);
    }

    public void uploadThemeImage(String element, String imageUrl) {
        if (!isValidUrl(imageUrl)) {
            throw new IllegalArgumentException("Invalid image URL");
        }
        System.out.println("THEME IMAGE: " + element + " set to " + imageUrl);
        ConfigPusher.getInstance().pushUIConfig(element, "image", imageUrl);
    }

    public void resetTheme() {
        System.out.println("THEME RESET: All theme settings reset to defaults");
        ConfigPusher.getInstance().pushConfigUpdateAsync("theme", "default");
    }

    private boolean isValidColor(String color) {
        return color.matches("^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$");
    }

    private boolean isValidUrl(String url) {
        return url.startsWith("http");
    }
}